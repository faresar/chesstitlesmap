<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Cookiebot code -->
  <script id="Cookiebot" src="https://consent.cookiebot.com/uc.js"
          data-cbid="ae870dc3-8869-4779-9a6b-b3c5fbdcfa27"
          data-blockingmode="auto" type="text/javascript"></script>

  <script data-cookieconsent="ignore">
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag("consent", "default", {
      ad_personalization: "denied",
      ad_storage: "denied",
      ad_user_data: "denied",
      analytics_storage: "denied",
      functionality_storage: "denied",
      personalization_storage: "denied",
      security_storage: "granted",
      wait_for_update: 500,
    });
    gtag("set", "ads_data_redaction", true);
    gtag("set", "url_passthrough", false);
  </script>

  <!-- Google AdSense -->
  <script async
          src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5107229311081771"
          crossorigin="anonymous"></script>

  <!-- Google Tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XJ3XMYTPC6"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-XJ3XMYTPC6');
  </script>

  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
  <title>ChessTitlesMap.com | Chess titles map and statistics</title>
  <meta name="description"
        content="Explore chess titles by country, including Grand Master per country and other titles. Discover country-specific statistics and rankings on ChessTitlesMap.com.">
  <meta name="keywords"
        content="Chess titles by country, Grand Master per country, Country Grand Master, Chess titles, Chess rankings, Chess stats, Chess title map, Grandmaster ranking, GM ranking, IM ranking, WGM ranking, Map of chess countries, Most chess titles, Best chess countries">
  <meta property="og:title" content="Chess Titles by Country | ChessTitlesMap.com">
  <meta property="og:description"
        content="Explore chess titles by country and discover national rankings including Grand Masters, International Masters, FIDE Masters, Candidate Masters and more on ChessTitlesMap.com.">
  <meta property="og:type" content="website">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96">
  <link rel="icon" type="image/svg+xml" href="/favicon.svg">
  <link rel="shortcut icon" href="/favicon.ico">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="manifest" href="/site.webmanifest">

  <!-- External CSS & JS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://unpkg.com/svg-pan-zoom@3.6.1/dist/svg-pan-zoom.min.js"></script>

  <style>
    /* ---------- General ---------- */
    body{
      margin:0;
      padding:0;
      font-family:'Roboto',sans-serif;
      width:100%;
      overflow-y:auto;
    }

    /* ---------- Navbar ---------- */
    .navbar-brand{
      color:#333 !important;
      font-weight:bold;
      text-decoration:none;
    }
    .navbar-brand:hover{ text-decoration:none; }

    /* ---------- Last-updated ---------- */
    .last-updated{
      font-size:14px;
      color:#666;
      text-align:center;
      margin:10px 0;
    }
    .last-updated span{ font-weight:normal; }

    /* ---------- NEW DESCRIPTION CARD ---------- */
    .description-layer{
      text-align:center;
      background:rgba(255,255,255,0.9);
      padding:10px;
      border-radius:5px;
      box-shadow:0 3px 15px rgba(0,0,0,0.2);
      font-family:'Roboto',sans-serif;
      font-size:14px;
      line-height:1.45;
      max-width:1010px;
      margin:10px auto;
    }
    @media(max-width:600px){
      .description-layer{
        font-size:12px;
        padding:8px;
      }
    }

    /* ---------- Map container ---------- */
    #map-container{
      width:100%;
      max-width:1010px;
      margin:0 auto;
      position:relative;
      border:1px solid lightblue;
      background-color:lightblue;
      overflow:hidden;
      touch-action:none;
    }
    #svg-container{
      width:100%;
      height:auto;
      aspect-ratio:1010/666;
      position:relative;
    }

    /* ---------- Zoom buttons ---------- */
    .zoom-controls{
      position:absolute;
      top:10px;
      left:10px;
      display:flex;
      flex-direction:column;
      gap:5px;
      z-index:1002;
    }
    .zoom-controls button{
      background:#fff;
      border:1px solid #000;
      border-radius:4px;
      width:28px;
      height:28px;
      cursor:pointer;
      font-family:'Roboto',sans-serif;
      font-size:14px;
      color:#007bff;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:all .2s;
    }
    @media(max-width:600px){
      .zoom-controls button{
        width:24px;
        height:24px;
        font-size:12px;
      }
    }

    /* ---------- Countries on SVG ---------- */
    path{ fill:#548b5b; transition:fill .3s; cursor:pointer; }
    path:hover{ fill:#ff9900; }
    path.selected{ fill:#ff9900; }
    path.highlighted{ fill:#b05a45; }

    /* ---------- World stats box ---------- */
    .world-stats{
      text-align:center;
      background:rgba(0,0,0,0.7);
      border:1px solid #000;
      padding:10px;
      color:#fff;
      font-size:.9rem;
      width:100%;
      box-sizing:border-box;
    }
    .world-stats b{ font-weight:bold; }
    .world-stats u{ text-decoration:underline; }
    @media(max-width:600px){
      .world-stats{ font-size:.8rem; }
    }

    /* ---------- Filter wrapper ---------- */
    .filter-wrapper{
      max-width:1010px;
      margin:20px auto;
      width:100%;
    }

    /* Player Activity Filter */
    .activity-filter{
      text-align:center;
      background:rgba(255,255,255,0.9);
      padding:10px;
      border-radius:5px;
      box-shadow:0 3px 15px rgba(0,0,0,0.2);
    }
    .activity-filter label{
      font-weight:bold;
      font-size:14px;
      margin-bottom:5px;
      display:block;
    }
    .activity-filter button{
      background:#fff;
      border:1px solid #ccc;
      border-radius:4px;
      padding:5px 10px;
      font-size:12px;
      cursor:pointer;
      margin-right:5px;
      transition:background-color .3s;
    }
    .activity-filter button:hover{ background:#f0f0f0; }
    .activity-filter button.active{
      background:#007bff;
      color:#fff;
    }

    /* Highlight Titles */
    .highlight-titles{
      text-align:center;
      background:rgba(255,255,255,0.9);
      padding:10px;
      border-radius:5px;
      box-shadow:0 3px 15px rgba(0,0,0,0.2);
      margin-top:10px;
    }
    .highlight-titles label{
      font-weight:bold;
      font-size:14px;
      margin-bottom:5px;
      display:block;
    }
    .highlight-titles-buttons{
      display:inline-flex;
      flex-wrap:wrap;
      gap:5px;
      justify-content:center;
    }
    .highlight-titles-buttons label{
      display:inline-block;
      padding:5px 10px;
      border:1px solid #ccc;
      border-radius:4px;
      cursor:pointer;
      background:#fff;
      transition:background-color .3s;
      font-size:12px;
    }
    .highlight-titles-buttons label.active{
      background:#007bff;
      color:#fff;
      border-color:#007bff;
    }
    .highlight-titles-buttons label input{ display:none; }

    /* Title Additions */
    .title-additions-layer{
      background:rgba(0,0,0,0.7);
      border:1px solid #000;
      padding:10px;
      color:#fff;
      font-size:.9rem;
      max-width:1010px;
      margin:10px auto;
      text-align:left;
      box-sizing:border-box;
    }
    .title-additions-layer b{ color:#fff; }

    /* Top-countries tables */
    .top-countries-container{
      display:flex;
      flex-wrap:wrap;
      justify-content:space-evenly;
      max-width:1010px;
      margin:20px auto;
      gap:20px;
    }
    .top-countries{
      flex:1 1 45%;
      background:rgba(255,255,255,0.9);
      padding:10px;
      border-radius:5px;
      box-shadow:0 3px 15px rgba(0,0,0,0.2);
    }
    .top-countries h3{
      text-align:center;
      font-weight:bold;
      margin-bottom:10px;
    }
    .top-countries table{ width:100%; border-collapse:collapse; }
    .top-countries th,.top-countries td{
      border:1px solid #ccc;
      padding:5px;
      text-align:center;
    }
    .flag{
      height:1em;
      width:auto;
      vertical-align:middle;
      margin-right:5px;
    }

    /* Info-box */
    .info-box{
      position:fixed;
      background:rgba(255,255,255,0.95);
      border-radius:5px;
      padding:5px 10px;
      display:none;
      font-size:14px;
      box-shadow:0 3px 15px rgba(0,0,0,0.2);
      z-index:1000;
      pointer-events:auto;
    }
    .info-box.visible{ display:block; }

    /* Footer */
    footer{
      background:#333;
      color:#fff;
      text-align:center;
      padding:15px;
      margin-top:20px;
      font-size:14px;
      position:relative;
    }
    footer .data-privacy{
      position:absolute;
      right:15px;
      top:50%;
      transform:translateY(-50%);
    }
    footer .data-privacy a{
      color:#007bff;
      text-decoration:none;
    }
    footer .data-privacy a:hover{ text-decoration:underline; }
  </style>
</head>

<body>
  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container-fluid">
      <a class="navbar-brand" href="index.html">
        <h1 style="display:inline;font-size:inherit;font-weight:inherit;margin:0;">
          World FIDE Chess titles
        </h1>
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
              data-bs-target="#navbarNav" aria-controls="navbarNav"
              aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link" href="how-to-get-title.html" target="_blank">How to Get Title</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="https://ratings.fide.com/" target="_blank">FIDE Ratings</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- Last-updated -->
  <div class="last-updated">
    Last updated: <span>July 2<span style="font-variant:super; vertical-align:super;">nd</span>, 2025</span>
  </div>

  <!-- NEW: Site description card -->
  <div class="description-layer">
    <p>
      Check out the number of titled chess players in each country and see which nations
      lead the world in Grandmasters, International Masters and other FIDE titles.
    </p>
  </div>

  <!-- Map container with World Stats -->
  <div id="map-container">
    <div class="world-stats" id="world-stats">
      <div><u><b>World Stats</b></u></div>
      <div>
        <b>GM:</b> <span id="gm-count">0</span>&emsp;
        <b>IM:</b> <span id="im-count">0</span>&emsp;
        <b>FM:</b> <span id="fm-count">0</span>&emsp;
        <b>CM:</b> <span id="cm-count">0</span>
      </div>
      <div>
        <b>WGM:</b> <span id="wgm-count">0</span>&emsp;
        <b>WIM:</b> <span id="wim-count">0</span>&emsp;
        <b>WFM:</b> <span id="wfm-count">0</span>&emsp;
        <b>WCM:</b> <span id="wcm-count">0</span>
      </div>
    </div>

    <!-- SVG map -->
    <div id="svg-container">
      <!-- Zoom buttons -->
      <div class="zoom-controls">
        <button id="zoom-in">+</button>
        <button id="zoom-out">−</button>
        <button id="zoom-reset">R</button>
      </div>
      <!-- SVG injected by JS -->
    </div>
  </div>

  <!-- Filters and tables -->
  <div class="filter-wrapper">
    <!-- Player activity filter -->
    <div class="activity-filter">
      <label>Player Activity Filter:</label>
      <button id="filter-both" class="active"
              title="Players who have played rated tournaments recently, including inactive players">
        Both
      </button>
      <button id="filter-active"
              title="Players who have played rated tournaments recently">
        Active
      </button>
      <button id="filter-inactive"
              title="Inactive players who have not played rated tournaments recently">
        Inactive
      </button>
    </div>

    <!-- Highlight titles -->
    <div class="highlight-titles">
      <label>Highlight Titles on the Map:</label>
      <div class="highlight-titles-buttons">
        <label id="label-highlight-none" class="active">
          None/Reset
          <input type="checkbox" id="highlight-none" value="none" checked>
        </label>
        <label id="label-highlight-gm">GM
          <input type="checkbox" id="highlight-gm" value="GM">
        </label>
        <label id="label-highlight-im">IM
          <input type="checkbox" id="highlight-im" value="IM">
        </label>
        <label id="label-highlight-fm">FM
          <input type="checkbox" id="highlight-fm" value="FM">
        </label>
        <label id="label-highlight-cm">CM
          <input type="checkbox" id="highlight-cm" value="CM">
        </label>
        <label id="label-highlight-wgm">WGM
          <input type="checkbox" id="highlight-wgm" value="WGM">
        </label>
        <label id="label-highlight-wim">WIM
          <input type="checkbox" id="highlight-wim" value="WIM">
        </label>
        <label id="label-highlight-wfm">WFM
          <input type="checkbox" id="highlight-wfm" value="WFM">
        </label>
        <label id="label-highlight-wcm">WCM
          <input type="checkbox" id="highlight-wcm" value="WCM">
        </label>
      </div>
    </div>

    <!-- Title additions -->
    <div class="title-additions-layer">
      <b>2025 title additions:</b><br>
      <b style="color:yellow;">Feb:</b>&nbsp;&nbsp;<b>GM:</b> 0&nbsp;&nbsp;<b>IM:</b> 1&nbsp;&nbsp;<b>FM:</b> 30&nbsp;&nbsp;<b>CM:</b> 64&nbsp;&nbsp;
      <b>WGM:</b> 0&nbsp;&nbsp;<b>WIM:</b> 1&nbsp;&nbsp;<b>WFM:</b> 17&nbsp;&nbsp;<b>WCM:</b> 18<br>
      <b style="color:yellow;">Mar:</b>&nbsp;&nbsp;<b>GM:</b> 0&nbsp;&nbsp;<b>IM:</b> 0&nbsp;&nbsp;<b>FM:</b> 34&nbsp;&nbsp;<b>CM:</b> 42&nbsp;&nbsp;
      <b>WGM:</b> 1&nbsp;&nbsp;<b>WIM:</b> 0&nbsp;&nbsp;<b>WFM:</b> 14&nbsp;&nbsp;<b>WCM:</b> 6<br>
      <b style="color:yellow;">Apr:</b>&nbsp;&nbsp;<b>GM:</b> 12&nbsp;&nbsp;<b>IM:</b> 31&nbsp;&nbsp;<b>FM:</b> -13&nbsp;&nbsp;<b>CM:</b> 60&nbsp;&nbsp;
      <b>WGM:</b> 0&nbsp;&nbsp;<b>WIM:</b> 4&nbsp;&nbsp;<b>WFM:</b> 6&nbsp;&nbsp;<b>WCM:</b> 10<br>
      <b style="color:yellow;">May:</b>&nbsp;&nbsp;<b>GM:</b> 0&nbsp;&nbsp;<b>IM:</b> 0&nbsp;&nbsp;<b>FM:</b> 49&nbsp;&nbsp;<b>CM:</b> 42&nbsp;&nbsp;
      <b>WGM:</b> 0&nbsp;&nbsp;<b>WIM:</b> 1&nbsp;&nbsp;<b>WFM:</b> 7&nbsp;&nbsp;<b>WCM:</b> 12<br>
      <b style="color:yellow;">Jun:</b>&nbsp;&nbsp;<b>GM:</b> -4&nbsp;&nbsp;<b>IM:</b> 1&nbsp;&nbsp;<b>FM:</b> 25&nbsp;&nbsp;<b>CM:</b> 43&nbsp;&nbsp;
      <b>WGM:</b> 0&nbsp;&nbsp;<b>WIM:</b> 2&nbsp;&nbsp;<b>WFM:</b> 4&nbsp;&nbsp;<b>WCM:</b> 11
    </div>

    <!-- Top-countries tables -->
    <div class="top-countries-container">
      <div class="top-countries" id="top-countries-men">
        <h3>Top Countries – Open</h3>
        <table>
          <thead>
            <tr>
              <th>Rank</th><th>Country</th><th>GM</th><th>IM</th><th>FM</th><th>CM</th>
            </tr>
          </thead>
          <tbody><!-- filled by JS --></tbody>
        </table>
      </div>

      <div class="top-countries" id="top-countries-women">
        <h3>Top Countries – Women</h3>
        <table>
          <thead>
            <tr>
              <th>Rank</th><th>Country</th><th>WGM</th><th>WIM</th><th>WFM</th><th>WCM</th>
            </tr>
          </thead>
          <tbody><!-- filled by JS --></tbody>
        </table>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <footer>
    Report any bug or inconsistencies to
    <a href="mailto:tens.gusto-0a@icloud.com" style="color:#007bff;">tens.gusto-0a@icloud.com</a>
    <div class="data-privacy">
      <a href="data_privacy.html" target="_blank">Privacy Policy</a>
    </div>
  </footer>

  <!-- JavaScript (unchanged core logic) -->
  <script>
    "use strict";

    /* ... (existing JavaScript from your file remains unchanged) ... */
  </script>

  <!-- Info-box element -->
  <div class="info-box" id="info-box"></div>

  <!-- Simple Analytics -->
  <script async src="https://scripts.simpleanalyticscdn.com/latest.js"></script>
</body>
</html>
